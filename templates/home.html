{% extends "base.html" %}

{% block style %}
{% endblock %}

{% block content %}
    <div class="well">
      <fieldset>
        <legend>HTMLをDATに変換</legend>
        <div class="form-group">
          <textarea id="html" rows="12" autocomplete="off" class="form-control" placeholder="HTML">
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=Shift_JIS&quot;&gt;&lt;base href=&quot;http://hanabi.2ch.net/qa/&quot;&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;http://potato.2ch.net/js/jquery-1.11.3.min.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;http://hanabi.2ch.net/js/ad.js?&quot;&gt;&lt;/script&gt;&lt;title&gt;スレ立て初心者だから大切なこと教えて [無断転載禁止]&amp;#169;2ch.net
&lt;/title&gt;&lt;link href=&quot;http://hanabi.2ch.net/css/ad.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;link href=&quot;http://penguin.2ch.net/css/style.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/head&gt;&lt;body&gt;&lt;input type=&quot;hidden&quot; id=&quot;zxcvtypo&quot; value=&quot;http://hanabi.2ch.net/test/read.cgi/qa/1468493311&quot;&gt;&lt;div class=&quot;topmenu&quot;&gt;&lt;a class=&quot;menuitem&quot; href=&quot;http://www.2ch.net&quot;&gt;２ちゃんねる&lt;/a&gt;&lt;a class=&quot;menuitem&quot; href=&quot;http://itest.2ch.net/test/read.cgi/qa/1468493311/&quot;&gt;★スマホ版★&lt;/a&gt;&lt;a class=&quot;menuitem&quot; href=&quot;http://hanabi.2ch.net/qa/&quot;&gt;■掲示板に戻る■&lt;/a&gt;&lt;a class=&quot;menuitem&quot; href=&quot;http://hanabi.2ch.net/test/read.cgi/qa/1468493311/&quot;&gt;全部&lt;/a&gt;&lt;a class=&quot;menuitem&quot; href=&quot;http://hanabi.2ch.net/test/read.cgi/qa/1468493311/-100&quot;&gt;1-&lt;/a&gt;&lt;a class=&quot;menuitem&quot; href=&quot;http://hanabi.2ch.net/test/read.cgi/qa/1468493311/l50&quot;&gt;最新50&lt;/a&gt;&lt;hr&gt;&lt;/div&gt;&lt;h1 class=&quot;title&quot;&gt;スレ立て初心者だから大切なこと教えて [無断転載禁止]&amp;#169;2ch.net
&lt;/h1&gt;&lt;div class=&quot;thread&quot;&gt;&lt;div class=&quot;post&quot; id=&quot;1&quot; data-date=&quot;NG&quot; data-userid=&quot;ID:5vvjESNT&quot; data-id=&quot;1&quot;&gt;&lt;div class=&quot;number&quot;&gt;1 : &lt;/div&gt;&lt;div class=&quot;name&quot;&gt;&lt;b&gt;ひよこ名無しさん&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;date&quot;&gt;2016/07/14(木) 19:48:31.97 ID:5vvjESNT&lt;/div&gt;&lt;div class=&quot;message&quot;&gt; まとめサイトばかり見ててスレ立てたの初めてだからこれだけは知っとけってのどんどん教えてください &lt;/div&gt;&lt;/div&gt;&lt;div id=&quot;banner&quot;&gt;&lt;div class=&quot;push&quot;&gt;&lt;div id=&quot;bannerLeft&quot;&gt;&lt;/div&gt;&lt;div id=&quot;bannerRight&quot;&gt;&lt;/div&gt;&lt;div class=&quot;push&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;push&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;post&quot; id=&quot;2&quot; data-date=&quot;NG&quot; data-userid=&quot;ID:5vvjESNT&quot; data-id=&quot;2&quot;&gt;&lt;div class=&quot;number&quot;&gt;2 : &lt;/div&gt;&lt;div class=&quot;name&quot;&gt;&lt;b&gt;&lt;a href=&quot;mailto:sage&quot;&gt;ひよこ名無しさん&lt;/a&gt;&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;date&quot;&gt;2016/07/14(木) 19:56:22.77 ID:5vvjESNT&lt;/div&gt;&lt;div class=&quot;message&quot;&gt; 書き込み全くないし、、、、 &lt;br&gt; 間違えてるのかな、、、、、 &lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;post&quot; id=&quot;3&quot; data-date=&quot;NG&quot; data-userid=&quot;ID:y8BmqlZm&quot; data-id=&quot;3&quot;&gt;&lt;div class=&quot;number&quot;&gt;3 : &lt;/div&gt;&lt;div class=&quot;name&quot;&gt;&lt;b&gt;ひよこ名無しさん&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;date&quot;&gt;2016/07/15(金) 00:18:49.20 ID:y8BmqlZm&lt;/div&gt;&lt;div class=&quot;message&quot;&gt; &lt;a href=&quot;http://jump.2ch.net/?http://i.imgur.com/zxGMLb1.jpg&quot;&gt;http://i.imgur.com/zxGMLb1.jpg&lt;/a&gt; &lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;post&quot; id=&quot;4&quot; data-date=&quot;NG&quot; data-userid=&quot;ID:NBij9YXI&quot; data-id=&quot;4&quot;&gt;&lt;div class=&quot;number&quot;&gt;4 : &lt;/div&gt;&lt;div class=&quot;name&quot;&gt;&lt;b&gt;ひよこ名無しさん&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;date&quot;&gt;2016/07/15(金) 02:50:26.11 ID:NBij9YXI&lt;/div&gt;&lt;div class=&quot;message&quot;&gt; ちゃんと人の目を見て話そう &lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;post&quot; id=&quot;5&quot; data-date=&quot;NG&quot; data-userid=&quot;ID:iZyfx3eO&quot; data-id=&quot;5&quot;&gt;&lt;div class=&quot;number&quot;&gt;5 : &lt;/div&gt;&lt;div class=&quot;name&quot;&gt;&lt;b&gt;&lt;a href=&quot;mailto:sage&quot;&gt;ひよこ名無しさん&lt;/a&gt;&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;date&quot;&gt;2016/07/15(金) 04:00:44.26 ID:iZyfx3eO&lt;/div&gt;&lt;div class=&quot;message&quot;&gt; レス来て感動する &lt;br&gt; 目は見えないでしょw &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;cLength&quot;&gt;0KB&lt;/div&gt;&lt;div class=&quot;newposts&quot;&gt;&lt;hr&gt;&lt;div class=&quot;newpostbutton&quot;&gt;&lt;a href=&quot;http://hanabi.2ch.net/test/read.cgi/qa/1468493311/5-n&quot;&gt;新着レスの表示&lt;/a&gt;&lt;/div&gt;&lt;hr&gt;&lt;/div&gt;&lt;div class=&quot;bottommenu&quot;&gt;&lt;a class=&quot;menuitem&quot; href=&quot;http://itest.2ch.net/test/read.cgi/qa/1468493311/&quot;&gt;★スマホ版★&lt;/a&gt;&lt;a class=&quot;menuitem&quot; href=&quot;http://hanabi.2ch.net/qa/&quot;&gt;■掲示板に戻る■&lt;/a&gt;&lt;a class=&quot;menuitem&quot; href=&quot;http://hanabi.2ch.net/test/read.cgi/qa/1468493311/&quot;&gt;全部&lt;/a&gt;&lt;a class=&quot;menuitem&quot; href=&quot;http://hanabi.2ch.net/test/read.cgi/qa/1468493311/1-4&quot;&gt;前100&lt;/a&gt;&lt;a class=&quot;menuitem&quot; href=&quot;http://hanabi.2ch.net/test/read.cgi/qa/1468493311/6-105&quot;&gt;次100&lt;/a&gt;&lt;a class=&quot;menuitem&quot; href=&quot;http://hanabi.2ch.net/test/read.cgi/qa/1468493311/l50&quot;&gt;最新50&lt;/a&gt;&lt;/div&gt;&lt;form method=&quot;POST&quot; accept-charset=&quot;Shift_JIS&quot; action=&quot;http://hanabi.2ch.net/test/bbs.cgi&quot;&gt;&lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;書き込む&quot; name=&quot;submit&quot;&gt;名前:&lt;input name=&quot;FROM&quot; size=&quot;19&quot;&gt;E-mail:&lt;input name=&quot;mail&quot; size=&quot;19&quot;&gt;&lt;br&gt;&lt;textarea rows=&quot;5&quot; cols=&quot;70&quot; wrap=&quot;off&quot; name=&quot;MESSAGE&quot;&gt;&lt;/textarea&gt;&lt;input type=&quot;hidden&quot; name=&quot;bbs&quot; value=&quot;qa&quot;&gt;&lt;input type=&quot;hidden&quot; name=&quot;key&quot; value=&quot;1468493311&quot;&gt;&lt;input type=&quot;hidden&quot; name=&quot;time&quot; value=&quot;1468824659&quot;&gt;&lt;br&gt;&lt;input type=&quot;hidden&quot; name=&quot;oekaki_thread1&quot;&gt;
&lt;br&gt;&lt;/p&gt;&lt;/form&gt;&lt;div class=&quot;footer push&quot;&gt;read.cgi ver 06.0.0 2015/11 &lt;a class=&quot;orange&quot; href=&quot;https://twitter.com/MangoMangue6954&quot;&gt;Mango Mangue ★&lt;/a&gt;&lt;br&gt;&lt;a class=&quot;green&quot; href=&quot;https://twitter.com/codemonkeyz&quot;&gt;Code Monkey ★&lt;/a&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
          </textarea>
        </div>
        <div class="form-group">
          <div class="text-center">
            <button id="todat" type="submit" class="btn btn-default">↓変換↓</button>
          </div>
        </div>
        <div class="form-group">
          <textarea id="dat" rows="12" autocomplete="off" class="form-control" placeholder="DAT" readonly></textarea>
        </div>
        <div id="alert-area">
        </div>
     </fieldset>
    </div>
{% endblock %}

{% block script %}
  <script>
      $('#todat').bind('click', {}, function(e) {
          var html = $('#html').val();
          if (html.length === 0) return;
          $.post('/api/dat',
              {'html': html},
              function(data, textStatus, jqXHR) {
                  if (data.length === 0) {
                    $("#alert-area").append($('<div class="alert alert-danger error-alert" data-alert>変換できませんでした。</div>'));
                    $(".error-alert").delay(2000).fadeOut("slow", function () { $(this).remove(); });
                  } else {
                      $('#dat').val(data);
                  }
              }
          );
      });
  </script>
{% endblock %}